<section>
    <h2 class="title is-4">Films</h2>
    <button class="button is-primary mb-4" (click)="openMovieModal()">Ajouter un film</button>
  

    <table class="table is-fullwidth is-striped is-hoverable">
      <thead>
        <tr>
          <th>Titre</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let movie of movies">
          <td>{{ movie.title }}</td>
          <!-- <td>{{ movie.genres?.join(', ') }}</td> -->
          <td>
            <button class="button is-small is-info" (click)="openMovieModal(movie)">Modifier</button>
            <button class="button is-small is-danger" (click)="deleteMovie(movie.id)">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  
    
    <div class="modal" [class.is-active]="isModalOpen && editingMovie">
      <div class="modal-background" (click)="isModalOpen = false"></div>
      <div class="modal-card" *ngIf="editingMovie">
        <header class="modal-card-head">
          <p class="modal-card-title">{{ editingMovie.id ? 'Modifier' : 'Créer' }} un film</p>
          <button class="delete" (click)="isModalOpen = false"></button>
        </header>
        
        <section class="modal-card-body">
          <div class="field">
            <label class="label">Titre</label>
            <input class="input" required [(ngModel)]="editingMovie.title" />
          </div>
          <div class="field">
            <label class="label">Synopsis</label>
            <input class="textarea" required [(ngModel)]="editingMovie.synopsis" />
          </div>
          <div class="field">
            <label class="label">Genres</label>
            <input class="input" [(ngModel)]="editingMovie.genresString" />
          </div>
          <div class="field">
            <label class="label">Tags</label>
            <input class="input" [(ngModel)]="editingMovie.tagsString" />
          </div>
          <div class="field">
            <label class="label">Langue</label>
            <input class="input" [(ngModel)]="editingMovie.language" />
          </div>
          <div class="field">
            <label class="label">Durée (minutes)</label>
            <input type="number" class="input" [(ngModel)]="editingMovie.duration" />
          </div>
          <div class="field">
            <label class="label">Année de sortie</label>
            <input type="number" class="input" [(ngModel)]="editingMovie.releaseYear" />
          </div>
         
        </section>
        <footer class="modal-card-foot">
          <button class="button is-success" (click)="saveMovie()">Enregistrer</button>
          <button class="button" (click)="isModalOpen = false">Annuler</button>
        </footer>
      </div>
    </div>
  </section>


   <!-- <div class="field">
            <label class="label">Équipe</label>
            <div class="select is-multiple is-fullwidth">
              <select multiple [(ngModel)]="editingMovie.teamIds">
                <option *ngFor="let team of allTeams" [ngValue]="team.id">
                  {{ team.name }} ({{ team.role }})
                </option>
              </select>
            </div>
          </div> -->